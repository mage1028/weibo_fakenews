<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>电容计算</title>
</head>
<body>
<h1>电容计算</h1>

<form action="">
    极板距离µm：<input type="text" value="1" id="d1">
    介质厚度µm：<input type="text" value="1" id="d2">
    圈数：<input type="text" value="1" id="n">
    串联数量：<input type="text" value="1" id="count">
    单个电容长度(轴向)mm：<input type="text" value="1" id="L">
    芯棒外径mm：<input type="text" value="1" id="R">

    <input type="button" style="width:80px;height:25px;" value="提交" onclick="return eg.regCheck()">
</form>

<p id="result"></p>

</body>
<script>
    var eg = {};
    const pai = 3.1425926;
    const k = 38.984e-15;
    eg.$ = function (id) {
        return document.getElementById(id);
    };
    eg.regCheck = function () {
        //极板距离
        d1 = eg.$('d1');
        //介质厚度
        d2 = eg.$('d2');
        //圈数
        n = eg.$('n');
        //串联个数
        count = eg.$('count');
        //单个电容长度
        L = eg.$('L');
        //芯棒外径
        R = eg.$('R').value;

        content = "<h1>计算结果</h1>"  + "<button onclick='reloadPage()'>返回</button><br><br>";
        content += "<table border='1'>";
        content += "<tr><td>" + "圈数" + "</td>" + "<td>" + "第n圈外径(mm)" + "</td>" + "<td>" + "第n圈极板长度(mm)" + "<td>" + "总极板长度(mm)" + "<td>" + "第n圈的电容(F)" + "</td>" + "<td>" + "总电容(F)" + "</td></tr>";
        Ln_count = 0;
        Cn_count = 0;
        for (i = 1; i <= n.value; i++) {
            Rn = i * 2 * d2.value / 1000 + parseFloat(R);

            Ln = pai * Rn;
            Ln_count += Ln;
            Cn = k * (Ln * L.value) / ((d1.value / 1000) * count.value);
            Cn_count += Cn;

            content += "<tr><td>" + i + "</td>" + "<td>" + Rn + "</td>" + "<td>" + Ln + "</td>" + "<td>" + Ln_count + "</td>" + "<td>" + Cn + "</td>" + "<td>" + Cn_count + "</td></tr>";
        }

        document.write(
            content
        )

    }

</script>
<script>
    function reloadPage() {
        location.reload()
    }
</script>

</html>